<UserControl x:Class="FxHabit.HabitDetailView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:lvc="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             Width="1000"
             Height="700"
             >

    <Border Background="#080808" CornerRadius="15" BorderBrush="#1A1A1A" BorderThickness="1.5">
        <Grid Margin="35">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="3*"/>
                <RowDefinition Height="1.5*"/>
            </Grid.RowDefinitions>

            <DockPanel Grid.Row="0" Margin="0,0,0,25">
                <StackPanel>
                    <TextBlock Text="{Binding Title}" Foreground="White" FontSize="38" FontWeight="Black" />
                    <TextBlock Text="{Binding CreatedAtDisplay}" Foreground="#444" FontSize="11" FontWeight="Medium" Margin="3,0,0,0"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" DockPanel.Dock="Right" VerticalAlignment="Top">
                    <Button Click="Edit_Click"  Content="MODIFIER" Style="{StaticResource CyberButton}" Height="20" Width="70" Margin="0,0,10,0"/>
                    <Button Click="Delete_Click" Content="SUPPRIMER" BorderBrush="#44FF4444" Foreground="#FF4444" Style="{StaticResource CyberButton}" Height="20" Width="70" Margin="0,0"/>
                    <Button Click="Close_Click" Background="Transparent" BorderThickness="0" Cursor="Hand" Margin="15,0,0,0">
                        <materialDesign:PackIcon Kind="Close" Foreground="#444" Width="30" Height="30"/>
                    </Button>
                </StackPanel>
            </DockPanel>

            <UniformGrid Grid.Row="1" Columns="4" Margin="0,0,0,30">
                <Border Background="#0C0C0C" Margin="6" Padding="20,12" CornerRadius="10">
                    <StackPanel>
                        <TextBlock Text="SÉRIE ACTUELLE" Foreground="#333" FontSize="9" FontWeight="Bold" />
                        <TextBlock Text="{Binding StreakDisplay}" Foreground="Cyan" FontSize="24" FontWeight="Bold"/>
                    </StackPanel>
                </Border>
                <Border Background="#0C0C0C" Margin="6" Padding="20,12" CornerRadius="10">
                    <StackPanel>
                        <TextBlock Text="TAUX RÉUSSITE" Foreground="#333" FontSize="9" FontWeight="Bold" />
                        <TextBlock Text="{Binding CompletionRate}" Foreground="#00FF88" FontSize="24" FontWeight="Bold"/>
                    </StackPanel>
                </Border>
                <Border Background="#0C0C0C" Margin="6" Padding="20,12" CornerRadius="10">
                    <StackPanel>
                        <TextBlock Text="MEILLEUR RECORD" Foreground="#333" FontSize="9" FontWeight="Bold" />
                        <TextBlock Text="{Binding MaxStreak}" Foreground="Orange" FontSize="24" FontWeight="Bold"/>
                    </StackPanel>
                </Border>
                <Border Background="#0C0C0C" Margin="6" Padding="20,12" CornerRadius="10">
                    <StackPanel>
                        <TextBlock Text="TOTAL RÉALISÉ" Foreground="#333" FontSize="9" FontWeight="Bold" />
                        <TextBlock Text="{Binding TotalValueDisplay}" Foreground="White" FontSize="24" FontWeight="Bold"/>
                    </StackPanel>
                </Border>
            </UniformGrid>

            <Border Grid.Row="2" Background="#0A0A0A" CornerRadius="15" Padding="25" Margin="5">
                <Grid>
                    <TextBlock Text="TENDANCE DE PERFORMANCE (30 JOURS)" Foreground="#151515" FontSize="11" FontWeight="Bold" VerticalAlignment="Top" HorizontalAlignment="Right"/>
                    <lvc:CartesianChart Series="{Binding MonthlySeries}" LegendLocation="None" Hoverable="True">
                        <lvc:CartesianChart.AxisX>
                            <lvc:Axis IsEnabled="False" ShowLabels="False"/>
                        </lvc:CartesianChart.AxisX>
                        <lvc:CartesianChart.AxisY>
                            <lvc:Axis Foreground="#1A1A1A" FontSize="11">
                                <lvc:Axis.Separator>
                                    <lvc:Separator Stroke="#0F0F0F" StrokeThickness="1"/>
                                </lvc:Axis.Separator>
                            </lvc:Axis>
                        </lvc:CartesianChart.AxisY>
                    </lvc:CartesianChart>
                </Grid>
            </Border>

            <Grid Grid.Row="3" Margin="5,20,5,5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*"/>
                    <ColumnDefinition Width="1*"/>
                </Grid.ColumnDefinitions>

                <Border Grid.Column="0" Background="#0A0A0A" CornerRadius="15" Padding="20" Margin="0,0,20,0">
                    <Grid>
                        <TextBlock Text="EFFICACITÉ PAR JOUR" Foreground="#151515" FontSize="11" FontWeight="Bold" VerticalAlignment="Top" HorizontalAlignment="Right"/>
                        <lvc:CartesianChart Series="{Binding WeeklyDistributionSeries}" Margin="0,10,0,0">
                            <lvc:CartesianChart.AxisX>
                                <lvc:Axis Labels="Lun,Mar,Mer,Jeu,Ven,Sam,Dim" Foreground="#333" FontSize="11">
                                    <lvc:Axis.Separator>
                                        <lvc:Separator IsEnabled="False"/>
                                    </lvc:Axis.Separator>
                                </lvc:Axis>
                            </lvc:CartesianChart.AxisX>
                            <lvc:CartesianChart.AxisY>
                                <lvc:Axis IsEnabled="False"/>
                            </lvc:CartesianChart.AxisY>
                        </lvc:CartesianChart>
                    </Grid>
                </Border>

                <Border Grid.Column="1" Background="#0A0A0A" CornerRadius="15" Padding="25">
                    <StackPanel VerticalAlignment="Center">
                        <StackPanel Margin="0,0,0,25">
                            <TextBlock Text="POINT FORT" Foreground="#444" FontSize="10" FontWeight="Bold" />
                            <TextBlock Text="{Binding BestDay}" Foreground="#00FF88" FontSize="22" FontWeight="Bold"/>
                        </StackPanel>
                        <StackPanel>
                            <TextBlock Text="OBJECTIF ACTUEL" Foreground="#444" FontSize="10" FontWeight="Bold" />
                            <TextBlock Text="{Binding GoalDisplay}" Foreground="White" FontSize="20" FontWeight="Bold"/>
                        </StackPanel>
                    </StackPanel>
                </Border>
            </Grid>
        </Grid>
    </Border>
</UserControl>