<Window x:Class="FxHabit.AddHabitWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Nouvelle Habitude" Height="700" Width="550"
        Background="#0A0A0A" WindowStyle="None" AllowsTransparency="True"
        WindowStartupLocation="CenterOwner" BorderThickness="1" BorderBrush="Cyan" Icon="logo.ico">

    <Window.Resources>
        <Style x:Key="SectionLabel" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#BBB"/>
            <Setter Property="FontSize" Value="10"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Margin" Value="0,20,0,8"/>
        </Style>

        <Style x:Key="CyberInput" TargetType="TextBox">
            <Setter Property="Background" Value="#0F0F0F"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#222"/>
            <Setter Property="BorderThickness" Value="0,0,0,1"/>
            <Setter Property="Padding" Value="5,10"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="CaretBrush" Value="Cyan"/>
        </Style>

        <Style x:Key="DayToggle" TargetType="ToggleButton">
            <Setter Property="Width" Value="45"/>
            <Setter Property="Height" Value="45"/>
            <Setter Property="Margin" Value="3"/>
            <Setter Property="Background" Value="#111"/>
            <Setter Property="Foreground" Value="#AAA"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Border Background="{TemplateBinding Background}" CornerRadius="22.5" BorderThickness="1" BorderBrush="#222">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsChecked" Value="True">
                    <Setter Property="Background" Value="#2200f2ff"/>
                    <Setter Property="Foreground" Value="Cyan"/>
                    <Setter Property="BorderBrush" Value="Cyan"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="20"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="50"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Background="#111" MouseDown="Window_MouseDown" Cursor="SizeAll">
            <Grid>
                <TextBlock Text="CONFIGURATION DE MISSION" Foreground="Cyan" FontSize="11" FontWeight="Bold" VerticalAlignment="Center" Margin="20,0" />
                <Button Click="Cancel_Click" Background="Transparent" BorderThickness="0" Foreground="Gray" Content="✕" HorizontalAlignment="Right" Width="40" FontSize="16"/>
            </Grid>
        </Border>

        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Hidden" Margin="20,4">
            <StackPanel>
                <TextBlock Text="DÉSIGNATION" Style="{StaticResource SectionLabel}"/>
                <TextBox x:Name="TxtTitle" Style="{StaticResource CyberInput}" Tag="Ex: Musculation, Lecture..."/>

                <TextBlock Text="ICONOGRAPHIE DE MISSION" Style="{StaticResource SectionLabel}"/>
                <ListBox x:Name="IconSelector" Background="#0F0F0F" BorderBrush="#222" BorderThickness="1" Padding="0">
                    <ListBox.ItemsPanel>
                        <ItemsPanelTemplate>
                            <UniformGrid Columns="9"/>
                        </ItemsPanelTemplate>
                    </ListBox.ItemsPanel>
                    <ListBox.ItemContainerStyle>
                        <Style TargetType="ListBoxItem">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="ListBoxItem">
                                        <Border x:Name="IconBorder" Background="Transparent" CornerRadius="8" Padding="10">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsSelected" Value="True">
                                                <Setter TargetName="IconBorder" Property="Background" Value="#2200f2ff"/>
                                                <Setter TargetName="IconBorder" Property="BorderBrush" Value="Cyan"/>
                                                <Setter TargetName="IconBorder" Property="BorderThickness" Value="1"/>
                                            </Trigger>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="IconBorder" Property="Background" Value="#11FFFFFF"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </ListBox.ItemContainerStyle>

                    <materialDesign:PackIcon Kind="Water" Width="26" Height="26" Foreground="Cyan" ToolTip="Hydratation"/>
                    <materialDesign:PackIcon Kind="ArmFlex" Width="26" Height="26" Foreground="Cyan" ToolTip="Sport / Musculation"/>
                    <materialDesign:PackIcon Kind="Run" Width="26" Height="26" Foreground="Cyan" ToolTip="Cardio / Course"/>
                    <materialDesign:PackIcon Kind="HeartPulse" Width="26" Height="26" Foreground="Cyan" ToolTip="Santé / Cardio"/>
                    <materialDesign:PackIcon Kind="Apple" Width="26" Height="26" Foreground="Cyan" ToolTip="Alimentation"/>
                    <materialDesign:PackIcon Kind="Bed" Width="26" Height="26" Foreground="Cyan" ToolTip="Sommeil"/>

                    <materialDesign:PackIcon Kind="BookOpenVariant" Width="26" Height="26" Foreground="Cyan" ToolTip="Lecture"/>
                    <materialDesign:PackIcon Kind="Brain" Width="26" Height="26" Foreground="Cyan" ToolTip="Focus / Apprentissage"/>
                    <materialDesign:PackIcon Kind="Code" Width="26" Height="26" Foreground="Cyan" ToolTip="Programmation / Projet"/>
                    <materialDesign:PackIcon Kind="Meditation" Width="26" Height="26" Foreground="Cyan" ToolTip="Méditation / Mental"/>
                    <materialDesign:PackIcon Kind="Pencil" Width="26" Height="26" Foreground="Cyan" ToolTip="Écriture / Journaling"/>
                    <materialDesign:PackIcon Kind="LanguageC" Width="26" Height="26" Foreground="Cyan" ToolTip="Langues étrangères"/>

                    <materialDesign:PackIcon Kind="CurrencyEur" Width="26" Height="26" Foreground="Cyan" ToolTip="Épargne / Budget"/>
                    <materialDesign:PackIcon Kind="SmokeFree" Width="26" Height="26" Foreground="Cyan" ToolTip="Arrêt tabac / Mauvaises habitudes"/>
                    <materialDesign:PackIcon Kind="CheckDecagram" Width="26" Height="26" Foreground="Cyan" ToolTip="Discipline / Victoire"/>
                    <materialDesign:PackIcon Kind="Tree" Width="26" Height="26" Foreground="Cyan" ToolTip="Sortie / Nature"/>
                    <materialDesign:PackIcon Kind="Coffee" Width="26" Height="26" Foreground="Cyan" ToolTip="Routine matinale"/>
                    <materialDesign:PackIcon Kind="Camera" Width="26" Height="26" Foreground="Cyan" ToolTip="Loisirs / Créativité"/>
                </ListBox>
                <TextBlock Text="OBJECTIF QUOTIDIEN" Style="{StaticResource SectionLabel}"/>
                <Grid Background="#0F0F0F" Margin="0,5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <Slider x:Name="SliderGoal" 
                        Minimum="1" 
                        Maximum="50" 
                        TickFrequency="0.5" 
                        IsSnapToTickEnabled="True" 
                        SmallChange="0.5" 
                        LargeChange="1"
                        Margin="10,15" 
                        Foreground="Cyan"/>         
                    <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center" Margin="10,0">
                        <TextBlock Text="{Binding ElementName=SliderGoal, Path=Value}" Foreground="White" FontSize="18" FontWeight="Bold"/>
                        <TextBox x:Name="TxtUnit" Text="fois" Foreground="#444" BorderThickness="0" Background="Transparent" Margin="5,0,0,0" VerticalAlignment="Center"/>
                    </StackPanel>
                </Grid>

                <TextBlock Text="RAPPELS TEMPORELS" Style="{StaticResource SectionLabel}"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBox x:Name="TxtNewReminder" Style="{StaticResource CyberInput}" Tag="HH:mm"/>
                    <Button Grid.Column="1" Click="AddReminder_Click" Style="{StaticResource CyberButton}" Content="AJOUTER" Width="80" Height="30" Margin="10,0,0,0"/>
                </Grid>
                <ItemsControl x:Name="ListReminders" Margin="0,10">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border Background="#1A1A1A" CornerRadius="4" Padding="8,4" Margin="3">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="{Binding}" Foreground="White" FontSize="12"/>
                                    <Button Click="RemoveReminder_Click" Content="×" Background="Transparent" BorderThickness="0" Foreground="Red" Margin="8,0,0,0"/>
                                </StackPanel>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>

                <TextBlock Text="JOURS DE MISSION" Style="{StaticResource SectionLabel}"/>
                <UniformGrid Columns="7">
                    <ToggleButton x:Name="Day1" Content="L" Style="{StaticResource DayToggle}"/>
                    <ToggleButton x:Name="Day2" Content="M" Style="{StaticResource DayToggle}"/>
                    <ToggleButton x:Name="Day3" Content="M" Style="{StaticResource DayToggle}"/>
                    <ToggleButton x:Name="Day4" Content="J" Style="{StaticResource DayToggle}"/>
                    <ToggleButton x:Name="Day5" Content="V" Style="{StaticResource DayToggle}"/>
                    <ToggleButton x:Name="Day6" Content="S" Style="{StaticResource DayToggle}"/>
                    <ToggleButton x:Name="Day7" Content="D" Style="{StaticResource DayToggle}"/>
                </UniformGrid>

                <TextBlock Text="SIGNATURE VISUELLE (NÉON)" Style="{StaticResource SectionLabel}"/>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,4">
                    <RadioButton x:Name="ColorCyan" Style="{StaticResource ColorChip}" Foreground="Cyan" />
                    <RadioButton x:Name="ColorPurple" Style="{StaticResource ColorChip}" Foreground="#BC13FE"/>
                    <RadioButton x:Name="ColorOrange" Style="{StaticResource ColorChip}" Foreground="#FF9D00"/>
                    <RadioButton x:Name="ColorGreen" Style="{StaticResource ColorChip}" Foreground="Lime"/>
                    <RadioButton x:Name="ColorRed" Style="{StaticResource ColorChip}" Foreground="#FF4545"/>
                    <RadioButton x:Name="ColorPink" Style="{StaticResource ColorChip}" Foreground="#FF007F"/>
                    <RadioButton x:Name="ColorYellow" Style="{StaticResource ColorChip}" Foreground="#FFFFFF00"/>
                    <RadioButton x:Name="ColorWhite" Style="{StaticResource ColorChip}" Foreground="#FFF9F7F7"/>
                    <RadioButton x:Name="ColorBlack" Style="{StaticResource ColorChip}" Foreground="#FF271D1D" IsChecked="True" Background="#FF271D1D"/>
                    <RadioButton x:Name="ColorDarkBlue" Style="{StaticResource ColorChip}" Foreground="#FF0101A2"/>
                    <RadioButton x:Name="ColorDarkGreen" Style="{StaticResource ColorChip}" Foreground="#FF057805"/>
                </StackPanel>
            </StackPanel>
        </ScrollViewer>

        <Border Grid.Row="2" Background="#080808" BorderBrush="#1A1A1A" BorderThickness="0,1,0,0">
            <Grid Margin="20,0">
                <Button Content="ABANDONNER" Click="Cancel_Click" HorizontalAlignment="Left" Foreground="Gray" Background="Transparent" BorderThickness="0"/>
                <Button Content="LANCER LA MISSION" Click="Save_Click" Style="{StaticResource CyberButton}" Width="220" HorizontalAlignment="Right" Height="45" FontWeight="Bold"/>
            </Grid>
        </Border>
    </Grid>
</Window>